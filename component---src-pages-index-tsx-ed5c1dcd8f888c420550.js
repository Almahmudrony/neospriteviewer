(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{134:function(e,t,a){"use strict";a.r(t);a(137),a(148),a(150);var n=a(155),r=a(0),l=a.n(r),i=a(136),o=a.n(i),u=a(156),c=a.n(u),s=a(142),d=a(147),m=a(167),f=a.n(m),h=function(e){var t,a=e.className,n=e.loading,r=e.children,i=o()(f.a.header,a),u=o()(f.a.logo,((t={})[f.a.spin]=n,t));return l.a.createElement("header",{className:i},l.a.createElement("div",{className:u}),l.a.createElement("div",{className:f.a.title},"sprite tile viewer"),r,l.a.createElement("a",{className:f.a.githubContainer,href:"https://github.com/city41/neospriteviewer"},l.a.createElement("div",{className:f.a.githubLogo})))},g=(a(88),a(144)),p=a.n(g),v=8,w=8,y=new Array(15).fill(1,0,15).map(function(e,t){var a=16*(t+1);return[.8*a,.9*a,a,255]});function E(e,t){for(var a=[],n=0;n<8;++n){for(var r=[],l=0;l<8;++l){var i=e[t+(8*n+l)];r.push(i)}a.push(r)}return a}y.unshift([0,0,0,0]);var b=[[0,0],[8,0],[0,8],[8,8]];function C(e,t){e.forEach(function(e,a){var n=t.createImageData(v,w);!function(e,t){for(var a=0;a<w;++a)for(var n=0;n<v;++n)for(var r=4*(a*v+n),l=t[a][n],i=0;i<4;++i)e.data[r+i]=l[i]}(n,e),t.putImageData(n,b[a][0],b[a][1])})}var S=function(e){var t=e.className,a=e.data,n=e.index,i=e.onLoad;if(!a)return null;var u=Object(r.useRef)(null);Object(r.useEffect)(function(){if(u&&u.current){var e=u.current.getContext("2d");if(e)u.current.width=16,u.current.height=16,C(function(e){return[E(e,128),E(e,0),E(e,192),E(e,64)]}(function(e,t){for(var a=64*(t+1),n=[],r=64*t;r<a;r+=2)for(var l=e.c1Data[r],i=e.c1Data[r+1],o=e.c2Data[r],u=e.c2Data[r+1],c=0;c<8;++c){var s=0;s|=l>>c&1,s|=(i>>c&1)<<1,s|=(o>>c&1)<<2,s|=(u>>c&1)<<3,n.push(y[s])}return n}(a,n)),e),i&&i(),setTimeout(function(){u&&u.current&&(u.current.className=o()(p.a.tile,t,p.a.rendered))},100)}});var c=o()(p.a.tile,t);return l.a.createElement("canvas",{className:c,ref:u})},T=S;T=l.a.memo(S);var M=8,N=8,x=new Array(15).fill(1,0,15).map(function(e,t){var a=16*(t+1);return[.8*a,.9*a,a,255]});function R(e,t){var a=t.createImageData(M,N);!function(e,t){for(var a=0;a<N;++a)for(var n=0;n<M;++n)for(var r=4*(a*M+n),l=t[a][n],i=0;i<4;++i)e.data[r+i]=l[i]}(a,e),t.putImageData(a,0,0)}x.unshift([0,0,0,0]);var O=function(e){var t=e.className,a=e.data,n=e.index,i=e.onLoad;if(!a)return null;var u=Object(r.useRef)(null);Object(r.useEffect)(function(){if(u&&u.current){var e=u.current.getContext("2d");if(e)u.current.width=M,u.current.height=N,R(function(e,t){for(var a=32*t,n=[[],[],[],[],[],[],[],[]],r=0;r<8;++r){var l=e.sData[a++],i=l>>4&15,o=x[15&l],u=x[i];n[r][4]=o,n[r][5]=u}for(var c=0;c<8;++c){var s=e.sData[a++],d=s>>4&15,m=x[15&s],f=x[d];n[c][6]=m,n[c][7]=f}for(var h=0;h<8;++h){var g=e.sData[a++],p=g>>4&15,v=x[15&g],w=x[p];n[h][0]=v,n[h][1]=w}for(var y=0;y<8;++y){var E=e.sData[a++],b=E>>4&15,C=x[15&E],S=x[b];n[y][2]=C,n[y][3]=S}return n}(a,n),e),i&&i(),setTimeout(function(){u&&u.current&&(u.current.className=o()(p.a.tile,t,p.a.rendered))},100)}});var c=o()(p.a.tile,t);return l.a.createElement("canvas",{className:c,ref:u})},L=O;L=l.a.memo(O);a(168),a(90),a(172),a(174);var A=a(176),D=a.n(A);function q(e){var t=/.*[cC](\d).*/g.exec(e);return t?parseInt(t[1],10):null}function F(e){var t=q(e.name);return!!(t&&1&t)}function j(e){return 2===e.length&&Array.from(e).every(function(e){return!!q(e.name)})}function G(e){return 1===e.length&&(t=e[0].name,!(!(a=/.*[sS](\d).*/g.exec(t))||!parseInt(a[1],10)));var t,a}Object(d.setConfig)({pureSFC:!0});var k=function(e){e.className;var t=e.onLoad,a=e.statusMessage,n=Object(r.useState)(null),i=n[0],o=n[1];return l.a.createElement("div",null,l.a.createElement("input",{type:"file",onChange:function(e){o(null);var a=e.target.files;if(!a||0===a.length)return t(null);if(!j(a)&&!G(a))return o("Please choose a pair of C ROM files or an S ROM file");if(j(a)){if(!function(e){var t=q(e[0].name),a=q(e[1].name);if(!t||!a)return!1;var n=Math.min(t,a);return Math.max(t,a)-n==1&&!!(1&n)}(a))return o("Please choose a proper pair, click the help below");var n=new FileReader;n.onload=function(e){var r=new FileReader;r.onload=function(e){var l=new Uint8Array(F(a[0])?n.result:r.result),i=new Uint8Array(F(a[1])?r.result:n.result);t({fileType:"C",c1Data:l,c2Data:i,filename:a[0].name})},r.readAsArrayBuffer(a[1])},n.readAsArrayBuffer(a[0])}else{var r=new FileReader;r.onload=function(e){var n=new Uint8Array(r.result);t({fileType:"S",sData:n,filename:a[0].name})},r.readAsArrayBuffer(a[0])}},multiple:!0}),l.a.createElement("span",{className:D.a.errorMessage},i||a))},B=a(177),I=a.n(B),P=function(e){var t,a=e.className,n=Object(r.useState)(!1),i=n[0],u=n[1],c=o()(I.a.nullState,a),s=o()(I.a.howToGetAPair,((t={})[I.a.shown]=i,t));return l.a.createElement("div",{className:c},l.a.createElement("div",{className:I.a.callout},l.a.createElement("h1",null,"View the sprite tiles of a Neo Geo game"),l.a.createElement("p",null,"choose an S ROM file or a C ROM pair from a game's romset in the file chooser above"),!i&&l.a.createElement("button",{className:I.a.showHelpButton,onClick:function(){return u(!0)}},"help")),l.a.createElement("div",{className:s},l.a.createElement("h2",null,"Where to get these files"),l.a.createElement("p",null,"Neo Geo ROMs are usually bundled in a zip file. Unzip a game and you'll find a bunch of files. You are interested in S files or C files."),l.a.createElement("h2",null,"How to get an S ROM file"),l.a.createElement("ul",null,l.a.createElement("li",null,"Unzip a Neo Geo game"),l.a.createElement("li",null,"There will usually be one S file, such as ",l.a.createElement("code",null,"201-s1.s1")," in Metal Slug or ",l.a.createElement("code",null,"019-s1.rom")," in League Bowling"),l.a.createElement("li",null,"Choose that file in the file dialog above")),l.a.createElement("h2",null,"How to get a C ROM file pair"),l.a.createElement("ul",null,l.a.createElement("li",null,"Unzip a Neo Geo game"),l.a.createElement("li",null,"There will be at least two C ROM files, such as ",l.a.createElement("code",null,"019-c1.rom")," and ",l.a.createElement("code",null,"019-c2.rom")," for League Bowling, or ",l.a.createElement("code",null,"RBFF1_C1.rom")," and ",l.a.createElement("code",null,"RBFF1_C2.rom")," for Real Bout Fatal Fury."),l.a.createElement("li",null,"Choose those two files in the file dialog above")),l.a.createElement("p",null,"Bigger games will have more C ROM file pairs. Real Bout Fatal Fury has C1, C2, C3, C4, C5, C6, C7 and C8 ROMs. You can grab any pair, as long as they go together. C1 and C2 go together, C3 and C4 go together, and so on."),l.a.createElement("h2",null,"Why are the tiles grey scale?"),l.a.createElement("p",null,"The sprites are stored separate from the color palettes. There's no good way to get the color data from a ROM without running the game. So greyscale was chosen as a neutral palette.")))},H=(a(178),a(179)),Q=a.n(H);function U(e){return"toLocaleString"in new Number(e)?e.toLocaleString():e.toString()}Object(d.setConfig)({pureSFC:!0});var X="https://city41.github.io/neospriteviewer/fool.png";t.default=function(){var e,t=Object(r.useState)(null),a=t[0],i=t[1],u=Object(r.useState)(!1),d=u[0],m=u[1],f=function(e){if(!e)return{tileIndices:null,numTiles:0,totalTiles:0};var t=null;t="C"===e.fileType?e.c1Data.length/64:e.sData.length/32;var a=Math.min(t,1024);return{tileIndices:new Array(a).fill(1,0,a).map(function(e,t){return t+0}),numTiles:a,totalTiles:t}}(a),g=f.tileIndices,p=f.numTiles,v=f.totalTiles,w=a&&"C"===a.fileType?T:L,y=o()(Q.a.tile,((e={})[Q.a.cTile]=a&&"C"===a.fileType,e[Q.a.sTile]=a&&"S"===a.fileType,e));return l.a.createElement(s.StaticQuery,{query:"1074121603",render:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{title:e.site.siteMetadata.title,meta:[{name:"description",content:e.site.siteMetadata.title},{name:"keywords",content:e.site.siteMetadata.keywords},{name:"twitter:card",content:"summary"},{name:"twitter:site",content:e.site.siteMetadata.twitterHandle},{name:"twitter:title",content:e.site.siteMetadata.title},{name:"twitter:description",content:e.site.siteMetadata.description},{name:"twitter:image",content:X},{name:"og:title",content:e.site.siteMetadata.title},{name:"og:type",content:"website"},{name:"og:url",content:"https://city41.github.io/neospriteviewer"},{name:"og:description",content:e.site.siteMetadata.description},{name:"og:image",content:X},{name:"og:title",content:e.site.siteMetadata.title}]},l.a.createElement("html",{lang:"en"})),l.a.createElement("div",{className:Q.a.root},l.a.createElement(h,{className:Q.a.header,loading:!!g&&!d},l.a.createElement(k,{onLoad:function(e){m(!1),i(e)},data:e,statusMessage:p<v?"there are "+U(v)+" tiles in total, but only showing first "+U(p):null})),!g&&l.a.createElement(P,null),(g||[]).map(function(t,n,r){return l.a.createElement(w,{key:(e&&e.filename||"X")+"-"+t,className:y,data:a,index:t,onLoad:n===r.length-1?function(){return m(!0)}:void 0})}),l.a.createElement("div",{className:Q.a.fool})))},data:n})}},142:function(e,t,a){"use strict";a.r(t),a.d(t,"graphql",function(){return h}),a.d(t,"StaticQueryContext",function(){return m}),a.d(t,"StaticQuery",function(){return f});var n=a(0),r=a.n(n),l=a(4),i=a.n(l),o=a(135),u=a.n(o);a.d(t,"Link",function(){return u.a}),a.d(t,"withPrefix",function(){return o.withPrefix}),a.d(t,"navigate",function(){return o.navigate}),a.d(t,"push",function(){return o.push}),a.d(t,"replace",function(){return o.replace}),a.d(t,"navigateTo",function(){return o.navigateTo});var c=a(143),s=a.n(c);a.d(t,"PageRenderer",function(){return s.a});var d=a(48);a.d(t,"parsePath",function(){return d.a});var m=r.a.createContext({}),f=function(e){return r.a.createElement(m.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):r.a.createElement("div",null,"Loading (StaticQuery)")})};function h(){throw new Error("It appears like Gatsby is misconfigured. Gatsby related `graphql` calls are supposed to only be evaluated at compile time, and then compiled away,. Unfortunately, something went wrong and the query was left in the compiled code.\n\n.Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.")}f.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},143:function(e,t,a){var n;e.exports=(n=a(166))&&n.default||n},144:function(e,t,a){e.exports={tile:"tile-module--tile--3HS9P",rendered:"tile-module--rendered--2lZM1"}},155:function(e){e.exports={data:{site:{siteMetadata:{title:"Neo Geo Sprite Viewer",keywords:"Neo Geo, retro game dev, retro gaming",description:"A sprite tile viewer for the Neo Geo",twitterHandle:"@mattegreer"}}}}},166:function(e,t,a){"use strict";a.r(t);a(36);var n=a(0),r=a.n(n),l=a(4),i=a.n(l),o=a(66),u=a(2),c=function(e){var t=e.location,a=u.default.getResourcesForPathnameSync(t.pathname);return r.a.createElement(o.a,Object.assign({location:t,pageResources:a},a.json))};c.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},t.default=c},167:function(e,t,a){e.exports={header:"header-module--header--2Q3RK",logo:"header-module--logo--3gu8x",spin:"header-module--spin--1xYqr",title:"header-module--title--2iLmX",githubContainer:"header-module--githubContainer--1VQcl",githubLogo:"header-module--githubLogo--ShHbe"}},176:function(e,t,a){e.exports={clearLink:"dataLoader-module--clearLink--jpfao",errorMessage:"dataLoader-module--errorMessage--31bie"}},177:function(e,t,a){e.exports={nullState:"nullState-module--nullState--3TyrL",callout:"nullState-module--callout--1Lax5",showHelpButton:"nullState-module--showHelpButton--1yX1C",dragSection:"nullState-module--dragSection--DcgtF",howToGetAPair:"nullState-module--howToGetAPair--27gEc",shown:"nullState-module--shown--2LdsQ"}},178:function(e,t,a){},179:function(e,t,a){e.exports={root:"index-module--root--OnpaA",header:"index-module--header--2Vq0q",spinner:"index-module--spinner--2CrOq",tile:"index-module--tile--d2rEI",cTile:"index-module--cTile--1YyuF",sTile:"index-module--sTile--3Xyqq",fool:"index-module--fool--218QX"}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-ed5c1dcd8f888c420550.js.map