{"version":3,"sources":["webpack:///./src/components/header.tsx","webpack:///./src/components/cTile.tsx","webpack:///./src/components/sTile.tsx","webpack:///./src/components/dataLoader.tsx","webpack:///./src/components/nullState.tsx","webpack:///./src/pages/index.tsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/tile.module.css","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header.module.css","webpack:///./src/components/dataLoader.module.css","webpack:///./src/components/nullState.module.css","webpack:///./src/pages/index.module.css"],"names":["Header","_ref","_classnames","className","loading","children","classes","classnames","styles","header","logoClasses","logo","spin","react_default","a","createElement","title","githubContainer","href","githubLogo","CORNER_WIDTH","TILE_WIDTH","CORNER_HEIGHT","TILE_HEIGHT","palette","Array","fill","map","_","i","value","buildCorner","pixelStream","startIndex","rows","y","cells","x","color","push","unshift","CORNER_POSITIONS","renderTile","corners","context","forEach","corner","imageData","createImageData","index","c","data","placeData","putImageData","CTileCmp","onLoad","canvasEl","useRef","useEffect","current","getContext","width","height","extractCorners","cData","tileIndex","endIndex","pixels","plane0","c1Data","plane1","plane2","c2Data","plane3","b","paletteIndex","getPixels","setTimeout","tile","rendered","ref","CTile","React","memo","pixelData","tilePixels","STileCmp","sData","pixelPair","rightPixelIndex","leftPixelRgb","rightPixelRgb","STile","getCIndex","fileName","result","exec","parseInt","isC1File","file","cIndex","name","areCRomFiles","files","length","from","every","isAnSRomFile","setConfig","pureSFC","DataLoader","statusMessageFromProps","statusMessage","_useState","useState","setStatusMessage","type","onChange","e","target","firstIndex","secondIndex","minIndex","Math","min","max","areAProperPair","fr","FileReader","onload","e1","fr2","e2","Uint8Array","fileType","filename","readAsArrayBuffer","multiple","errorMessage","NullState","showHelp","setShowHelp","nullState","helpClasses","howToGetAPair","shown","callout","showHelpButton","onClick","formatWithCommas","n","Number","toLocaleString","toString","titleImageUrl","__webpack_exports__","romData","setData","_useState2","loaded","setLoaded","_getTileIndices","tileIndices","numTiles","totalTiles","getTileIndices","Tile","tileClasses","cTile","sTile","gatsby_browser_entry","query","render","Fragment","Helmet_default","site","siteMetadata","meta","content","keywords","twitterHandle","description","lang","root","header_Header","dataLoader_DataLoader","newCData","nullState_NullState","t","key","undefined","fool","_1074121603","__webpack_require__","r","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","props","Consumer","staticQueryData","Error","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","clearLink","dragSection","spinner"],"mappings":"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","file":"component---src-pages-index-tsx-0697aa544e1deba036fe.js","sourcesContent":["import React from \"react\";\nimport classnames from \"classnames\";\n\nimport styles from \"./header.module.css\";\n\ninterface HeaderProps {\n    className?: string;\n    loading: boolean;\n}\n\nconst Header: React.StatelessComponent<HeaderProps> = ({ className, loading, children }) => {\n    const classes = classnames(styles.header, className);\n    const logoClasses = classnames(styles.logo, { [styles.spin]: loading });\n\n    return (\n        <header className={classes}>\n            <div className={logoClasses} />\n            <div className={styles.title}>sprite tile viewer</div>\n            {children}\n            <a className={styles.githubContainer} href=\"https://github.com/city41/neospriteviewer\">\n                <div className={styles.githubLogo} />\n            </a>\n        </header>\n    );\n};\n\nexport { Header };\n","import React, { useRef, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { CData } from \"../interfaces\";\n\nimport styles from \"./tile.module.css\";\n\nconst TILE_WIDTH = 16;\nconst TILE_HEIGHT = 16;\nconst CORNER_WIDTH = TILE_WIDTH / 2;\nconst CORNER_HEIGHT = TILE_HEIGHT / 2;\n\nconst PIXEL_STREAM_LENGTH = 16 * 16;\n\ninterface CTileProps {\n    className?: string;\n    data: CData | null;\n    index: number;\n    onLoad?: () => void;\n}\n\nconst step = 256 / 16;\nconst palette = new Array(15).fill(1, 0, 15).map((_, i) => {\n    const value = (i + 1) * step;\n    /* return [value * 0.2, value * 0.8, value, 255]; */\n    return [value * 0.8, value * 0.9, value, 255];\n});\n\npalette.unshift([0, 0, 0, 0]);\n\nfunction getPixels(cData: CData, tileIndex: number) {\n    const startIndex = tileIndex * 64;\n    const endIndex = (tileIndex + 1) * 64;\n\n    const pixels = [];\n\n    for (let i = startIndex; i < endIndex; i += 2) {\n        const plane0 = cData.c1Data[i];\n        const plane1 = cData.c1Data[i + 1];\n        const plane2 = cData.c2Data[i];\n        const plane3 = cData.c2Data[i + 1];\n\n        for (let b = 0; b < 8; ++b) {\n            let paletteIndex = 0;\n            paletteIndex |= (plane0 >> b) & 1;\n            paletteIndex |= ((plane1 >> b) & 1) << 1;\n            paletteIndex |= ((plane2 >> b) & 1) << 2;\n            paletteIndex |= ((plane3 >> b) & 1) << 3;\n\n            pixels.push(palette[paletteIndex]);\n        }\n    }\n\n    return pixels;\n}\n\nfunction buildCorner(pixelStream: number[][], startIndex: number): number[][][] {\n    const rows = [];\n    for (let y = 0; y < 8; ++y) {\n        const cells = [];\n        for (let x = 0; x < 8; ++x) {\n            const cornerIndex = y * 8 + x;\n            const pixelIndex = startIndex + cornerIndex;\n\n            const color = pixelStream[pixelIndex];\n\n            cells.push(color);\n        }\n\n        rows.push(cells);\n    }\n\n    return rows;\n}\n\nfunction extractCorners(pixelStream: number[][]): number[][][][] {\n    const cornerSize = 8 * 8;\n\n    return [\n        buildCorner(pixelStream, 2 * cornerSize), // upper left\n        buildCorner(pixelStream, 0 * cornerSize), // upper right\n        buildCorner(pixelStream, 3 * cornerSize), // lower left\n        buildCorner(pixelStream, 1 * cornerSize) // lower right\n    ];\n}\n\nfunction placeData(imageData: ImageData, corner: number[][][]) {\n    for (let y = 0; y < CORNER_HEIGHT; ++y) {\n        for (let x = 0; x < CORNER_WIDTH; ++x) {\n            const index = (y * CORNER_WIDTH + x) * 4;\n            const color = corner[y][x];\n\n            for (let c = 0; c < 4; ++c) {\n                imageData.data[index + c] = color[c];\n            }\n        }\n    }\n}\n\nconst CORNER_POSITIONS = [\n    // upper left\n    [0, 0],\n    // upper right\n    [8, 0],\n    // lower left\n    [0, 8],\n    // lower right\n    [8, 8]\n];\n\nfunction renderTile(corners: number[][][][], context: CanvasRenderingContext2D) {\n    corners.forEach((corner, i) => {\n        const imageData = context.createImageData(CORNER_WIDTH, CORNER_HEIGHT);\n        placeData(imageData, corner);\n        context.putImageData(imageData, CORNER_POSITIONS[i][0], CORNER_POSITIONS[i][1]);\n    });\n}\n\nconst CTileCmp: React.StatelessComponent<CTileProps> = ({ className, data, index, onLoad }) => {\n    if (!data) return null;\n\n    const canvasEl = useRef<HTMLCanvasElement | null>(null);\n\n    useEffect(() => {\n        if (canvasEl && canvasEl.current) {\n            const context = canvasEl.current.getContext(\"2d\");\n\n            if (context) {\n                canvasEl.current.width = TILE_WIDTH;\n                canvasEl.current.height = TILE_HEIGHT;\n\n                const pixelStream = getPixels(data, index);\n\n                const corners = extractCorners(pixelStream);\n                renderTile(corners, context);\n\n                if (onLoad) {\n                    onLoad();\n                }\n\n                setTimeout(() => {\n                    if (canvasEl && canvasEl.current) {\n                        canvasEl.current.className = classnames(styles.tile, className, styles.rendered);\n                    }\n                }, 100);\n            }\n        }\n    });\n\n    const classes = classnames(styles.tile, className);\n    return <canvas className={classes} ref={canvasEl} />;\n};\n\nlet CTile = CTileCmp;\n\nif (process.env.NODE_ENV === \"production\") {\n    CTile = React.memo(CTileCmp);\n}\n\nexport { CTile };\n","import React, { useRef, useEffect } from \"react\";\nimport classnames from \"classnames\";\nimport { SData } from \"../interfaces\";\n\nimport styles from \"./tile.module.css\";\n\nconst TILE_WIDTH = 8;\nconst TILE_HEIGHT = 8;\n\nconst PIXEL_STREAM_LENGTH = 16 * 16;\n\ninterface STileProps {\n    className?: string;\n    data: SData | null;\n    index: number;\n    onLoad?: () => void;\n}\n\nconst step = 256 / 16;\nconst palette = new Array(15).fill(1, 0, 15).map((_, i) => {\n    const value = (i + 1) * step;\n    return [value * 0.8, value * 0.9, value, 255];\n});\n\npalette.unshift([0, 0, 0, 0]);\n\nfunction getPixels(sData: SData, tileIndex: number): number[][][] {\n    let startIndex = tileIndex * 32;\n    const endIndex = (tileIndex + 1) * 32;\n\n    const pixels: number[][][] = [[], [], [], [], [], [], [], []];\n\n    // get column A\n    for (let i = 0; i < 8; ++i) {\n        const pixelPair = sData.sData[startIndex++];\n        const rightPixelIndex = (pixelPair >> 4) & 0xf;\n        const leftPixelIndex = pixelPair & 0xf;\n\n        const leftPixelRgb = palette[leftPixelIndex];\n        const rightPixelRgb = palette[rightPixelIndex];\n\n        pixels[i][4] = leftPixelRgb;\n        pixels[i][5] = rightPixelRgb;\n    }\n\n    // get column B\n    for (let i = 0; i < 8; ++i) {\n        const pixelPair = sData.sData[startIndex++];\n        const rightPixelIndex = (pixelPair >> 4) & 0xf;\n        const leftPixelIndex = pixelPair & 0xf;\n\n        const leftPixelRgb = palette[leftPixelIndex];\n        const rightPixelRgb = palette[rightPixelIndex];\n\n        pixels[i][6] = leftPixelRgb;\n        pixels[i][7] = rightPixelRgb;\n    }\n\n    // get column C\n    for (let i = 0; i < 8; ++i) {\n        const pixelPair = sData.sData[startIndex++];\n        const rightPixelIndex = (pixelPair >> 4) & 0xf;\n        const leftPixelIndex = pixelPair & 0xf;\n\n        const leftPixelRgb = palette[leftPixelIndex];\n        const rightPixelRgb = palette[rightPixelIndex];\n\n        pixels[i][0] = leftPixelRgb;\n        pixels[i][1] = rightPixelRgb;\n    }\n\n    // get column D\n    for (let i = 0; i < 8; ++i) {\n        const pixelPair = sData.sData[startIndex++];\n        const rightPixelIndex = (pixelPair >> 4) & 0xf;\n        const leftPixelIndex = pixelPair & 0xf;\n\n        const leftPixelRgb = palette[leftPixelIndex];\n        const rightPixelRgb = palette[rightPixelIndex];\n\n        pixels[i][2] = leftPixelRgb;\n        pixels[i][3] = rightPixelRgb;\n    }\n\n    return pixels;\n}\n\nfunction placeData(imageData: ImageData, tilePixels: number[][][]) {\n    for (let y = 0; y < TILE_HEIGHT; ++y) {\n        for (let x = 0; x < TILE_WIDTH; ++x) {\n            const index = (y * TILE_WIDTH + x) * 4;\n            const color = tilePixels[y][x];\n\n            for (let c = 0; c < 4; ++c) {\n                imageData.data[index + c] = color[c];\n            }\n        }\n    }\n}\n\nfunction renderTile(pixelData: number[][][], context: CanvasRenderingContext2D) {\n    const imageData = context.createImageData(TILE_WIDTH, TILE_HEIGHT);\n    placeData(imageData, pixelData);\n    context.putImageData(imageData, 0, 0);\n}\n\nconst STileCmp: React.StatelessComponent<STileProps> = ({ className, data, index, onLoad }) => {\n    if (!data) return null;\n\n    const canvasEl = useRef<HTMLCanvasElement | null>(null);\n\n    useEffect(() => {\n        if (canvasEl && canvasEl.current) {\n            const context = canvasEl.current.getContext(\"2d\");\n\n            if (context) {\n                canvasEl.current.width = TILE_WIDTH;\n                canvasEl.current.height = TILE_HEIGHT;\n\n                const pixelData = getPixels(data, index);\n\n                renderTile(pixelData, context);\n\n                if (onLoad) {\n                    onLoad();\n                }\n\n                setTimeout(() => {\n                    if (canvasEl && canvasEl.current) {\n                        canvasEl.current.className = classnames(styles.tile, className, styles.rendered);\n                    }\n                }, 100);\n            }\n        }\n    });\n\n    const classes = classnames(styles.tile, className);\n    return <canvas className={classes} ref={canvasEl} />;\n};\n\nlet STile = STileCmp;\n\nif (process.env.NODE_ENV === \"production\") {\n    STile = React.memo(STileCmp);\n}\n\nexport { STile };\n","import React, { useState } from \"react\";\nimport classnames from \"classnames\";\nimport { CData, SData } from \"../interfaces\";\n\nimport { setConfig } from \"react-hot-loader\";\n// @ts-ignore: the typing for setConfig doesn't have this prop but it does work\nsetConfig({ pureSFC: true });\n\nimport styles from \"./dataLoader.module.css\";\n\ninterface DataLoaderProps {\n    className?: string;\n    onLoad: (data: CData | SData | null) => void;\n    data: CData | SData | null;\n    statusMessage: string | null;\n}\n\nfunction getCIndex(fileName: string): number | null {\n    const regex = /.*[cC](\\d).*/g;\n\n    const result = regex.exec(fileName);\n\n    if (result) {\n        return parseInt(result[1], 10);\n    } else {\n        return null;\n    }\n}\n\nfunction getSIndex(fileName: string): number | null {\n    const regex = /.*[sS](\\d).*/g;\n\n    const result = regex.exec(fileName);\n\n    if (result) {\n        return parseInt(result[1], 10);\n    } else {\n        return null;\n    }\n}\n\nfunction isC1File(file: File) {\n    const cIndex = getCIndex(file.name);\n\n    return !!(cIndex && cIndex & 1);\n}\n\nfunction areCRomFiles(files: FileList): boolean {\n    return files.length === 2 && Array.from(files).every(file => !!getCIndex(file.name));\n}\n\nfunction isAnSRomFile(files: FileList): boolean {\n    return files.length === 1 && !!getSIndex(files[0].name);\n}\n\nfunction areAProperPair(files: FileList) {\n    const firstIndex = getCIndex(files[0].name);\n    const secondIndex = getCIndex(files[1].name);\n\n    if (!firstIndex || !secondIndex) {\n        return false;\n    }\n\n    const minIndex = Math.min(firstIndex, secondIndex);\n    const maxIndex = Math.max(firstIndex, secondIndex);\n\n    // the pair has to be consecutive with the odd number coming first\n    // ie: C3,C4 is a valid pair, but C4,C5 is not\n    return maxIndex - minIndex === 1 && !!(minIndex & 1);\n}\n\nconst DataLoader: React.StatelessComponent<DataLoaderProps> = ({ className, onLoad, statusMessage: statusMessageFromProps }) => {\n    const [statusMessage, setStatusMessage] = useState<string | null>(null);\n\n    function onFilesChosen(e: React.ChangeEvent<HTMLInputElement>) {\n        setStatusMessage(null);\n\n        const files = e.target.files;\n\n        if (!files || files.length === 0) {\n            return onLoad(null);\n        }\n\n        if (!areCRomFiles(files) && !isAnSRomFile(files)) {\n            return setStatusMessage(\"Please choose a pair of C ROM files or an S ROM file\");\n        }\n\n        if (areCRomFiles(files)) {\n            if (!areAProperPair(files)) {\n                return setStatusMessage(\"Please choose a proper pair, click the help below\");\n            }\n            const fr = new FileReader();\n\n            fr.onload = e1 => {\n                const fr2 = new FileReader();\n                fr2.onload = e2 => {\n                    const c1Data = new Uint8Array((isC1File(files[0]) ? fr.result : fr2.result) as ArrayBuffer);\n                    const c2Data = new Uint8Array((isC1File(files[1]) ? fr2.result : fr.result) as ArrayBuffer);\n\n                    onLoad({ fileType: \"C\", c1Data, c2Data, filename: files[0].name });\n                };\n                fr2.readAsArrayBuffer(files[1]);\n            };\n\n            fr.readAsArrayBuffer(files[0]);\n        } else {\n            const fr = new FileReader();\n\n            fr.onload = e1 => {\n                const sData = new Uint8Array(fr.result as ArrayBuffer);\n                onLoad({ fileType: \"S\", sData, filename: files[0].name });\n            };\n\n            fr.readAsArrayBuffer(files[0]);\n        }\n    }\n\n    return (\n        <div>\n            <input type=\"file\" onChange={onFilesChosen} multiple={true} />\n            <span className={styles.errorMessage}>{statusMessage || statusMessageFromProps}</span>\n        </div>\n    );\n};\n\nexport { DataLoader };\n","import React, { useState } from \"react\";\nimport classnames from \"classnames\";\n\nimport styles from \"./nullState.module.css\";\n\ninterface NullStateProps {\n    className?: string;\n}\n\nconst NullState: React.StatelessComponent<NullStateProps> = ({ className }) => {\n    const [showHelp, setShowHelp] = useState<boolean>(false);\n\n    const classes = classnames(styles.nullState, className);\n    const helpClasses = classnames(styles.howToGetAPair, {\n        [styles.shown]: showHelp\n    });\n\n    return (\n        <div className={classes}>\n            <div className={styles.callout}>\n                <h1>View the sprite tiles of a Neo Geo game</h1>\n                <p>choose an S ROM file or a C ROM pair from a game's romset in the file chooser above</p>\n                {!showHelp && (\n                    <button className={styles.showHelpButton} onClick={() => setShowHelp(true)}>\n                        help\n                    </button>\n                )}\n            </div>\n            <div className={helpClasses}>\n                <h2>Where to get these files</h2>\n                <p>\n                    Neo Geo ROMs are usually bundled in a zip file. Unzip a game and you'll find a bunch of files. You are interested in S\n                    files or C files.\n                </p>\n                <h2>How to get an S ROM file</h2>\n                <ul>\n                    <li>Unzip a Neo Geo game</li>\n                    <li>\n                        There will usually be one S file, such as <code>201-s1.s1</code> in Metal Slug or <code>019-s1.rom</code> in League\n                        Bowling\n                    </li>\n                    <li>Choose that file in the file dialog above</li>\n                </ul>\n                <h2>How to get a C ROM file pair</h2>\n                <ul>\n                    <li>Unzip a Neo Geo game</li>\n                    <li>\n                        There will be at least two C ROM files, such as <code>019-c1.rom</code> and <code>019-c2.rom</code> for League\n                        Bowling, or <code>RBFF1_C1.rom</code> and <code>RBFF1_C2.rom</code> for Real Bout Fatal Fury.\n                    </li>\n                    <li>Choose those two files in the file dialog above</li>\n                </ul>\n\n                <p>\n                    Bigger games will have more C ROM file pairs. Real Bout Fatal Fury has C1, C2, C3, C4, C5, C6, C7 and C8 ROMs. You can\n                    grab any pair, as long as they go together. C1 and C2 go together, C3 and C4 go together, and so on.\n                </p>\n                <h2>What is the difference between C and S?</h2>\n                <p>\n                    The data inside C roms is for the main sprites of the game: the characters, backgrounds, bullets, etc. The data inside\n                    the S roms is for the fix layer. This layer is drawn above all sprites and it never scrolls. So S data is for things\n                    like the current score, number of lives, etc. The \"HUD\" if you will.\n                </p>\n                <h2>Why are the tiles grey scale?</h2>\n                <p>\n                    The sprites are stored separate from the color palettes. There's no good way to get the color data from a ROM without\n                    running the game. So greyscale was chosen as a neutral palette.\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport { NullState };\n","import React, { useState } from \"react\";\nimport classnames from \"classnames\";\nimport Helmet from \"react-helmet\";\nimport { StaticQuery, graphql } from \"gatsby\";\nimport { setConfig } from \"react-hot-loader\";\nimport { Header } from \"../components/header\";\nimport { CTile } from \"../components/cTile\";\nimport { STile } from \"../components/sTile\";\nimport { DataLoader } from \"../components/dataLoader\";\nimport { NullState } from \"../components/nullState\";\nimport { CData, SData } from \"../interfaces\";\n\n// @ts-ignore: the typing for setConfig doesn't have this prop but it does work\nsetConfig({ pureSFC: true });\n\nimport \"./global.css\";\nimport styles from \"./index.module.css\";\n\nfunction formatWithCommas(n: number): string {\n    if (\"toLocaleString\" in new Number(n)) {\n        return n.toLocaleString();\n    } else {\n        // if the browser doesn't support it, just fall back to no commas, no big deal\n        return n.toString();\n    }\n}\n\nfunction getTileIndices(data: CData | SData | null): { tileIndices: number[] | null; numTiles: number; totalTiles: number } {\n    if (!data) {\n        return { tileIndices: null, numTiles: 0, totalTiles: 0 };\n    }\n\n    let totalTiles: number | null = null;\n\n    if (data.fileType === \"C\") {\n        // one tile is 128 bytes, half of the tile is in C1,\n        // so total tiles is length divided by (128 / 2)\n        totalTiles = data.c1Data.length / 64;\n    } else {\n        // fix rom tiles are 32 bytes each\n        totalTiles = data.sData.length / 32;\n    }\n\n    const numTiles = Math.min(totalTiles, 1024);\n    const tileIndices = new Array(numTiles).fill(1, 0, numTiles).map((_, i) => i + 0);\n\n    return { tileIndices, numTiles, totalTiles };\n}\n\nconst query = graphql`\n    query MetaDataQuery {\n        site {\n            siteMetadata {\n                title\n                keywords\n                description\n                twitterHandle\n            }\n        }\n    }\n`;\n\nconst titleImageUrl = \"https://city41.github.io/neospriteviewer/fool.png\";\n\nexport default () => {\n    const [romData, setData] = useState<CData | SData | null>(null);\n    const [loaded, setLoaded] = useState<boolean>(false);\n\n    const { tileIndices, numTiles, totalTiles } = getTileIndices(romData);\n\n    const Tile: React.ComponentType<any> = romData && romData.fileType === \"C\" ? CTile : STile;\n    const tileClasses = classnames(styles.tile, {\n        [styles.cTile]: romData && romData.fileType === \"C\",\n        [styles.sTile]: romData && romData.fileType === \"S\"\n    });\n\n    return (\n        <StaticQuery\n            query={query}\n            render={data => (\n                <>\n                    <Helmet\n                        title={data.site.siteMetadata.title}\n                        meta={[\n                            {\n                                name: \"description\",\n                                content: data.site.siteMetadata.title\n                            },\n                            {\n                                name: \"keywords\",\n                                content: data.site.siteMetadata.keywords\n                            },\n                            {\n                                name: \"twitter:card\",\n                                content: \"summary\"\n                            },\n                            {\n                                name: \"twitter:site\",\n                                content: data.site.siteMetadata.twitterHandle\n                            },\n                            {\n                                name: \"twitter:title\",\n                                content: data.site.siteMetadata.title\n                            },\n                            {\n                                name: \"twitter:description\",\n                                content: data.site.siteMetadata.description\n                            },\n                            {\n                                name: \"twitter:image\",\n                                content: titleImageUrl\n                            },\n                            {\n                                name: \"og:title\",\n                                content: data.site.siteMetadata.title\n                            },\n                            {\n                                name: \"og:type\",\n                                content: \"website\"\n                            },\n                            {\n                                name: \"og:url\",\n                                content: \"https://city41.github.io/neospriteviewer\"\n                            },\n                            {\n                                name: \"og:description\",\n                                content: data.site.siteMetadata.description\n                            },\n                            {\n                                name: \"og:image\",\n                                content: titleImageUrl\n                            },\n                            {\n                                name: \"og:title\",\n                                content: data.site.siteMetadata.title\n                            }\n                        ]}\n                    >\n                        <html lang=\"en\" />\n                    </Helmet>\n                    <div className={styles.root}>\n                        <Header className={styles.header} loading={!!tileIndices && !loaded}>\n                            <DataLoader\n                                onLoad={newCData => {\n                                    setLoaded(false);\n                                    setData(newCData);\n                                }}\n                                data={data}\n                                statusMessage={\n                                    numTiles < totalTiles\n                                        ? `there are ${formatWithCommas(\n                                              totalTiles\n                                          )} tiles in total, but only showing first ${formatWithCommas(numTiles)}`\n                                        : null\n                                }\n                            />\n                        </Header>\n\n                        {!tileIndices && <NullState />}\n                        {(tileIndices || []).map((t, i, a) => (\n                            <Tile\n                                key={((data && data.filename) || \"X\") + \"-\" + t}\n                                className={tileClasses}\n                                data={romData}\n                                index={t}\n                                onLoad={i === a.length - 1 ? () => setLoaded(true) : undefined}\n                            />\n                        ))}\n                        <div className={styles.fool} />\n                    </div>\n                </>\n            )}\n        />\n    );\n};\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tile\":\"tile-module--tile--3HS9P\",\"rendered\":\"tile-module--rendered--2lZM1\"};","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header-module--header--2Q3RK\",\"logo\":\"header-module--logo--3gu8x\",\"spin\":\"header-module--spin--1xYqr\",\"title\":\"header-module--title--2iLmX\",\"githubContainer\":\"header-module--githubContainer--1VQcl\",\"githubLogo\":\"header-module--githubLogo--ShHbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clearLink\":\"dataLoader-module--clearLink--jpfao\",\"errorMessage\":\"dataLoader-module--errorMessage--31bie\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nullState\":\"nullState-module--nullState--3TyrL\",\"callout\":\"nullState-module--callout--1Lax5\",\"showHelpButton\":\"nullState-module--showHelpButton--1yX1C\",\"dragSection\":\"nullState-module--dragSection--DcgtF\",\"howToGetAPair\":\"nullState-module--howToGetAPair--27gEc\",\"shown\":\"nullState-module--shown--2LdsQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"index-module--root--OnpaA\",\"header\":\"index-module--header--2Vq0q\",\"spinner\":\"index-module--spinner--2CrOq\",\"tile\":\"index-module--tile--d2rEI\",\"cTile\":\"index-module--cTile--1YyuF\",\"sTile\":\"index-module--sTile--3Xyqq\",\"fool\":\"index-module--fool--218QX\"};"],"sourceRoot":""}